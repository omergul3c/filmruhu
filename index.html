<!doctype html><html lang=tr><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Ruh Haline Göre Film Önerileri</title><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css rel=stylesheet><style>body{background-color:#212529;color:#f8f9fa}.card{background-color:#343a40;color:#f8f9fa;border:none}.mod-tab{cursor:pointer}.mod-tab.active{background-color:#007bff;color:#fff}.spinner-container{height:300px}.modal-backdrop.show{filter:blur(5px)}</style><nav class="bg-dark navbar navbar-dark"><div class=container><a class=navbar-brand href=#>FilmRuhu</a></div></nav><div class="container my-4" id=modSection><div class="d-flex justify-content-center flex-wrap gap-2" id=modTabs></div></div><div class="container my-4" id=filmSection><div class=row id=filmCards></div></div><div class="container my-3" id=navigationButtons><div class="d-flex justify-content-center gap-3"><button class="btn btn-secondary" onclick=prevPage()>Önceki</button> <button class="btn btn-warning" onclick=shuffleFilms()>Karıştır</button> <button class="btn btn-secondary" onclick=nextPage()>Sonraki</button></div></div><div class="fade modal" id=trailerModal aria-hidden=true tabindex=-1><div class="modal-dialog modal-dialog-centered modal-lg"><div class="bg-dark modal-content"><div class=modal-header><h5 class=modal-title>Fragman</h5><button class="btn-close btn-close-white" aria-label=Kapat data-bs-dismiss=modal type=button></button></div><div class=modal-body id=trailerModalContent></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js></script><script>const apiKey="e39e95f412d05a40b4a42fbbbb665286",mods=[{name:"Mutlu 😊",genre:35},{name:"Hüzünlü 😢",genre:18},{name:"Macera 🏞️",genre:12},{name:"Romantik ❤️",genre:10749},{name:"Komik 😂",genre:35},{name:"Gerilim 😱",genre:53},{name:"Bilim Kurgu 👽",genre:878},{name:"Fantastik 🧚",genre:14},{name:"Dram 🎭",genre:18},{name:"Aksiyon 🔥",genre:28},{name:"Belgesel 📚",genre:99},{name:"Korku 👻",genre:27},{name:"Animasyon 🎬",genre:16},{name:"Suç 🔍",genre:80},{name:"Drama 🎥",genre:18}];let filmData=[],currentFilmIndex=0,currentMod=mods[0];const modTabsContainer=document.getElementById("modTabs");async function fetchMovies(){const e=currentMod.genre;let n=[];showSpinner();try{for(let t=1;t<=5;t++){const a=`https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=${e}&language=tr-TR&page=${t}`,r=await fetch(a),i=await r.json();n=n.concat(i.results)}filmData=n,currentFilmIndex=Math.floor(Math.random()*filmData.length),renderFilm()}catch(e){console.error("Filmler yüklenirken hata oluştu:",e)}}function showSpinner(){document.getElementById("filmCards").innerHTML='\n        <div class="d-flex justify-content-center align-items-center spinner-container">\n          <div class="spinner-border text-light" role="status">\n            <span class="visually-hidden">Yükleniyor...</span>\n          </div>\n        </div>'}function renderFilm(){const e=document.getElementById("filmCards");setTimeout((()=>{if(!filmData.length)return void(e.innerHTML="<p class='text-center'>Film bulunamadı.</p>");currentFilmIndex>=filmData.length&&(currentFilmIndex=filmData.length-1),currentFilmIndex<0&&(currentFilmIndex=0);const n=filmData[currentFilmIndex];e.innerHTML=`\n          <div class="col-12">\n            <div class="card mb-4">\n              <div class="row g-0">\n                <div class="col-md-4">\n                  <img src="https://image.tmdb.org/t/p/w500${n.poster_path}" class="img-fluid rounded-start" alt="${n.title}">\n                </div>\n                <div class="col-md-8">\n                  <div class="card-body">\n                    <h3 class="card-title">${n.title}</h3>\n                    <p class="card-text">${n.overview}</p>\n                    <p class="card-text"><small>Çıkış Tarihi: ${formatReleaseDate(n.release_date)}</small></p>\n                    <p class="card-text"><small>Puan: ${n.vote_average.toFixed(1)}/10</small></p>\n                    <button class="btn btn-info" onclick="openTrailerModal(${n.id})">İngilizce Fragmanı İzle</button><br /><br >\n                    <button class="btn btn-info" onclick="openTrailerModalTR(${n.id})">Türkçe Fragmanı İzle</button>\n                <br /><br >\n                    <p span style="font-size: 11px">Bazı filmlerin Türkçe fragmanı bulunmadığından, Orijinal fragmanı izlemek için "İngilizce Fragmanı İzle" butonuna tıklamanızı öneririz.</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>`}),500)}function formatReleaseDate(e){if(!e)return"";const n=e.split("-"),t=n[0],a=n[1],r=n[2];return`${parseInt(r)} ${{"01":"Ocak","02":"Şubat","03":"Mart","04":"Nisan","05":"Mayıs","06":"Haziran","07":"Temmuz","08":"Ağustos","09":"Eylül",10:"Ekim",11:"Kasım",12:"Aralık"}[a]} ${t}`}function nextPage(){currentFilmIndex<filmData.length-1&&(currentFilmIndex++,showSpinner(),renderFilm())}function prevPage(){currentFilmIndex>0&&(currentFilmIndex--,showSpinner(),renderFilm())}function shuffleFilms(){for(let e=filmData.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[filmData[e],filmData[n]]=[filmData[n],filmData[e]]}currentFilmIndex=0,showSpinner(),renderFilm()}function openTrailerModal(e){const n=new bootstrap.Modal(document.getElementById("trailerModal")),t=document.getElementById("trailerModalContent");t.innerHTML='\n        <div class="text-center">\n          <div class="spinner-border text-light" role="status">\n            <span class="visually-hidden">Yükleniyor...</span>\n          </div>\n        </div>';fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${apiKey}&language=en-US`).then((e=>e.json())).then((e=>{const n=e.results.filter((e=>"Trailer"===e.type&&"YouTube"===e.site));if(n.length>0){const e=n[0];t.innerHTML=`\n              <div class="ratio ratio-16x9 mb-3">\n                <iframe src="https://www.youtube.com/embed/${e.key}" title="Fragman" allowfullscreen></iframe>\n              </div>\n              <small class="d-block text-center text-muted">Platform: ${e.site}</small>\n            `}else t.innerHTML='<p class="text-center">Fragman bulunamadı.</p>'})).catch((e=>{t.innerHTML='<p class="text-center">Fragman yüklenirken hata oluştu.</p>'})),n.show()}function openTrailerModalTR(e){const n=new bootstrap.Modal(document.getElementById("trailerModal")),t=document.getElementById("trailerModalContent");t.innerHTML='\n        <div class="text-center">\n          <div class="spinner-border text-light" role="status">\n            <span class="visually-hidden">Yükleniyor...</span>\n          </div>\n        </div>';fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${apiKey}&language=tr-TR`).then((e=>e.json())).then((e=>{const n=e.results.filter((e=>"Trailer"===e.type&&"YouTube"===e.site));if(n.length>0){const e=n[0];t.innerHTML=`\n              <div class="ratio ratio-16x9 mb-3">\n                <iframe src="https://www.youtube.com/embed/${e.key}" title="Fragman" allowfullscreen></iframe>\n              </div>\n              <small class="d-block text-center text-muted">Platform: ${e.site}</small>\n            `}else t.innerHTML='<p class="text-center">Fragman bulunamadı.</p>'})).catch((e=>{t.innerHTML='<p class="text-center">Fragman yüklenirken hata oluştu.</p>'})),n.show()}mods.forEach((e=>{const n=document.createElement("button");n.className="btn btn-outline-primary mod-tab",e.name===currentMod.name&&n.classList.add("active"),n.textContent=e.name,n.onclick=()=>{currentMod=e,currentFilmIndex=0,document.querySelectorAll(".mod-tab").forEach((e=>e.classList.remove("active"))),n.classList.add("active"),fetchMovies()},modTabsContainer.appendChild(n)})),fetchMovies()</script><footer class="text-light bg-dark footer py-3"><div class=container><div class="row align-items-center"><div class="col-md-6 text-center text-md-start"><p class=mb-0>© 2025 FilmRuhu. Tüm hakları saklıdır.</p></div><div class="col-md-6 text-center text-md-end"><a class="text-light me-3" href=https://instagram.com/omergul3c target=_blank><i class="fa-lg fab fa-instagram"></i></a> <a class="text-light me-3" href=https://tiktok.com/@gulecco target=_blank><i class="fa-lg fab fa-tiktok"></i></a> <a class="text-light me-3" href=https://twitter.com/omergul3c target=_blank><i class="fa-lg fab fa-twitter"></i></a> <a class=text-light href=https://linkedin.com/in/gulecco target=_blank><i class="fa-lg fab fa-linkedin"></i></a></div></div></div></footer></html>